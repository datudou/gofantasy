package gofantasy

import (
	"context"
	"fmt"
	"net/http"
	"testing"
)

//var token = "kFX3YwiYtF2ZZVIf.chUI40oTpKsC8Amij9D_oBzxP8eUv4iNQbW_P.Lk75YB2GdlYj8H6h7QyUtPKt7EOD6uQ6X9xSjFP.MH6xMphRmhVgLrAjb93QxF21.Yr908toACs6D3gfOfn1w66lp_pBtfctag2oguVXGtJzncChWcoiGCjyDJAbTrfv66r5pRDGrC2kaJRVZNvdMq5iC_3ttIjN9AUB3JO2ydC7ExvgfEDFUX.Bb7lkQ4RxnzeNfXfcO5eVhCfKJkmFgSNpEK0HE_g2dLYFWS0YcnowhPUFLv5R4WWMOGq1so3d5zeZT7lGN1gd9V09CfjAw3IXvIP_4WwZOa9gEGKWEDmzDScIJ8c6V1.K9RW3_OF6zXmWH03mZTJo1XmO6sZUSNjTk2s9bar711miT35KozIyq5FX.c0u2N1is3iEW2K4Hhet5y42zisqed38YMd.jF0pkR92.2DXAuxxolTVwgw0B.isN0or9d8B4j8DkpXDSJMvOBLKsaP6PoYDe8pF900LFeA3fbGcdy3bwd3gLe6JanNQawcsUhVOXbK_aKBcjaVDXDtErZVH6Bf25sdnOD0VlDPdEm0dEgrf_1JAUmwuegK7FdtsoV0_JXqN1EJlE7.n4JvwzSdeQgmMhFmuf5EfqzcHHRFm_jEB9w4MpzDkmgBqUevh3eg_WlTEfgaekovSDuehgwM2gJAtBQRDe4KAIV9OpbWNb4LTdUy8y7BFiudTXrROQfk1VDaxQkDLmQ89eiDQEuSTvoAs3Br3Xo51L4UJvMBV0aZpOy_ecocOrrbnkCArstzl_dN3bM7.Ih18IaJjFbRoiuCNbtwBgcgudk_kd.F7j0_EGA_h1ycaKlUiYUL9SqLrcfH3ZJC73IDMM7fU3BPrgsyOrwA0YVA0jEqSyAjmMXD8DP1a28CYRhhlaSmHGXsRyVuufb1iNE6QwAlZpQpMGMMNvMLIbToaMIMF9_pzNrywnaa3bcwzuEOrDxAKUvV2XuOxSN5bPoc5_ALkrCWqtxh7kD.Tif0HDexQ7OQ-- bearer APXINmT8gShKf8Gb5S3bcNcXjid8a.OP1QsrxUHYQtE7OUu_LYE48yKIlq2A8E8- 2023-04-13 01:08:43.074841 +0800 CST m=+3601.361797016 map[access_token:kFX3YwiYtF2ZZVIf.chUI40oTpKsC8Amij9D_oBzxP8eUv4iNQbW_P.Lk75YB2GdlYj8H6h7QyUtPKt7EOD6uQ6X9xSjFP.MH6xMphRmhVgLrAjb93QxF21.Yr908toACs6D3gfOfn1w66lp_pBtfctag2oguVXGtJzncChWcoiGCjyDJAbTrfv66r5pRDGrC2kaJRVZNvdMq5iC_3ttIjN9AUB3JO2ydC7ExvgfEDFUX.Bb7lkQ4RxnzeNfXfcO5eVhCfKJkmFgSNpEK0HE_g2dLYFWS0YcnowhPUFLv5R4WWMOGq1so3d5zeZT7lGN1gd9V09CfjAw3IXvIP_4WwZOa9gEGKWEDmzDScIJ8c6V1.K9RW3_OF6zXmWH03mZTJo1XmO6sZUSNjTk2s9bar711miT35KozIyq5FX.c0u2N1is3iEW2K4Hhet5y42zisqed38YMd.jF0pkR92.2DXAuxxolTVwgw0B.isN0or9d8B4j8DkpXDSJMvOBLKsaP6PoYDe8pF900LFeA3fbGcdy3bwd3gLe6JanNQawcsUhVOXbK_aKBcjaVDXDtErZVH6Bf25sdnOD0VlDPdEm0dEgrf_1JAUmwuegK7FdtsoV0_JXqN1EJlE7.n4JvwzSdeQgmMhFmuf5EfqzcHHRFm_jEB9w4MpzDkmgBqUevh3eg_WlTEfgaekovSDuehgwM2gJAtBQRDe4KAIV9OpbWNb4LTdUy8y7BFiudTXrROQfk1VDaxQkDLmQ89eiDQEuSTvoAs3Br3Xo51L4UJvMBV0aZpOy_ecocOrrbnkCArstzl_dN3bM7.Ih18IaJjFbRoiuCNbtwBgcgudk_kd.F7j0_EGA_h1ycaKlUiYUL9SqLrcfH3ZJC73IDMM7fU3BPrgsyOrwA0YVA0jEqSyAjmMXD8DP1a28CYRhhlaSmHGXsRyVuufb1iNE6QwAlZpQpMGMMNvMLIbToaMIMF9_pzNrywnaa3bcwzuEOrDxAKUvV2XuOxSN5bPoc5_ALkrCWqtxh7kD.Tif0HDexQ7OQ-- expires_in:3600 id_token:eyJhbGciOiJFUzI1NiIsImtpZCI6IjM0NjZkNTFmN2RkMGM3ODA1NjU2ODhjMTgzOTIxODE2YzQ1ODg5YWQifQ.eyJhdF9oYXNoIjoicnBPS0RvNm1iVGlRRmFSdjZZRXFPUSIsInN1YiI6IlpBTExLVFVUV0JBN1dBNEZXT1lGNko3Q0RZIiwiYXVkIjoiZGoweUptazlia2hUWmsxSmVuSlRiVWhTSm1ROVdWZHJPV1JyYnpKYWJGVTFUMVV3YldOSGJ6bE5RVDA5Sm5NOVkyOXVjM1Z0WlhKelpXTnlaWFFtYzNZOU1DWjRQVE16IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF1dGhfdGltZSI6MTY4MTI3NjE4MiwiaXNzIjoiaHR0cHM6Ly9hcGkubG9naW4ueWFob28uY29tIiwic2Vzc2lvbl9leHAiOjE2ODI0ODU3ODIsImV4cCI6MTY4MTMxOTMyMiwiYXBwX2lkIjoiZGoweUptazlia2hUWmsxSmVuSlRiVWhTSm1ROVdWZHJPV1JyYnpKYWJGVTFUMVV3YldOSGJ6bE5RVDA5Sm5NOVkyOXVjM1Z0WlhKelpXTnlaWFFtYzNZOU1DWjRQVE16IiwiaWF0IjoxNjgxMzE1NzIyLCJlbWFpbCI6IndhbmdxaWFueWkuY3NAZ21haWwuY29tIiwic2lkIjoiOEFNNDVvQk02a2ZwIn0.l1EgFvqVJ9qGHTKyM9lQm9XJADGB69QNLK9sdln_vG7WMuBO_da2khlqzKEVpdhHvoRwLfPBofnIAkflFYHF5g refresh_token:APXINmT8gShKf8Gb5S3bcNcXjid8a.OP1QsrxUHYQtE7OUu_LYE48yKIlq2A8E8"

var accessToken = "1zHpe_iYtF104ERW8s5ew7J.FVlZjlc.R4rVFPVCOw39KtkJgu5KF93ttXpWVC4X.zFsZSr7L5reDFMbTBLVSQspILqfPPIrBdvbBZdCZUCb_A6eKzdfSDrPrl9CUZmD5muur5Gg99w0Jhba45.CPZaGzKvZ5WJWK08XAKRCT94RJOu55i5fAQ52ythVmHJ9tmjDUjk6GRYtgwBwuC116z3tHOK2.j4WL6ACttLtaJ_K6qyvQz48Jab0EZZKqOCpBSxSSbIqJjaMHcLcl4cpzqrss4Y2LjWUDgUhbYa_pmboXPt0kE7qG_M22BMcuAh8DrzUBnPgiZLWFj6_BiwCUf66Te6IFm1tcoEzejvwYXUu4u4ooWf9S7d30e96UkxO9JFaWVLWt18fkn6NeoCF8mNGVb3cl3KOiDg0w9MONF2T77CwK_ZQREOYcvpuFuziyWYjEiLduVYE5FoA53n4EJwqaBHqQCNTYh0Mcy77NU3WKFBE4PA69TTcQLgkIrkzKsHXMFlZWAYeaQOb4FX.vRT8oveKOaDgbGRjC.JrQqhxyNcz6LXBHfApfJpO682IAtuxlaMEjFjt3ljUrqRgEyekmk7Fp1aYxsoq1VKfzijDA8qNTjezlC5K0WP3sq2uM6CxcysFAiMBsntFJj3qA7rLBtFZIbHze.a5a0AZJ6IC1IIzv18kjTrM.TcHwpLEy.Zn.dT.Eri7b7_tsNwUg9b4Ef4jvc3rfjXJNeZcwpm9BtGsDi217Kr3oeHI5XDl_EJfbAkrVOS9CNbJuGfCsjTNXs5OSxXzrGof.oRVeEmeXyfQ4LTNjhORtKJiGfZxrGQJfptQWtFGD666IQm5onQmGuNc17_Q475pmX5WGViQDQUDiLf2AjlUCaaRvpayH0L_Nj9p6UWoLSVXEpAx8vyxvVmKBnRvXTBDNGxCxm5IaNZkYe0m6Qui51I_7CAhtbVYL0WI7eOqN95pVSuucoPBKjRDAci6k6o64nu1tc8B06dFuUfsvga_TFzkvNExUH.1jUAV94x6N5XJKb.EuA--"

func Test_SendRequest(t *testing.T) {
	c := NewClient(accessToken)
	ctx := context.Background()
	fmt.Println(c.fullURL(""))
	req, err := c.requestBuilder.build(ctx, http.MethodGet, c.fullURL(""), nil)
	if err != nil {
		return
	}
	response := &FantasyContent{}
	err = c.sendRequest(req, response)
	if err != nil {
		return
	}
	fmt.Println("-------", response)
}
